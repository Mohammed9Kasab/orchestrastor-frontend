"use strict";(self.webpackChunktoor=self.webpackChunktoor||[]).push([[28],{5964:(gt,p,a)=>{a.r(p),a.d(p,{ProfileModule:()=>_t});var _=a(8583),u=a(9763),s=a(665),h=a(8939),t=a(7716),f=a(7792),w=a(555);function g(r){return null!=r}function v(r){return g(r)?r.id:void 0}var x=a(8999),A=a(9331),T=a(1841);let q=(()=>{class r{constructor(e,i){this.applicationConfigService=e,this.httpClient=i,this.resourceUrl=this.applicationConfigService.getEndpointFor("admin/users"),this.users=[]}authorities(){return this.httpClient.get(this.applicationConfigService.getEndpointFor("authorities"))}query(e){const i=(0,x.b)(e);return this.httpClient.get(this.resourceUrl,{params:i,observe:"response"})}getUser(){return this.httpClient.get(this.applicationConfigService.getEndpointFor("admin/users"))}addUser(e){return this.httpClient.post(this.applicationConfigService.getEndpointFor("admin/users"),e)}delete(e){return this.httpClient.delete(`${this.resourceUrl}/${e}`)}update(e){return this.httpClient.put(this.applicationConfigService.getEndpointFor("admin/users"),e)}search(e){return this.httpClient.get(`${this.resourceUrl}/search?query=${e}`)}importUser(e){return this.httpClient.post(this.applicationConfigService.getEndpointFor("admin/import"),e)}find(e){return this.httpClient.get(`${this.resourceUrl}/${e}`)}addUserToCollectionIfMissing(e,...i){const n=i.filter(g);if(n.length>0){const l=e.map(c=>v(c));return[...n.filter(c=>{const m=v(c);return null!=m&&!l.includes(m)&&(l.push(m),!0)}),...e]}return e}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(A.y),t.LFG(T.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var P=a(956),U=a(9344),Z=a(674);const C=["newPassword"];function N(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1,"Your First Name is required."),t.qZA())}function b(r,o){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,N,2,0,"small",37),t.qZA()),2&r){const e=t.oxw(3);let i;t.xp6(1),t.Q6J("ngIf",null==(i=e.editUser.get("firstName"))||null==i.errors?null:i.errors.required)}}function F(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1,"Your Last Name is required."),t.qZA())}function I(r,o){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,F,2,0,"small",37),t.qZA()),2&r){const e=t.oxw(3);let i;t.xp6(1),t.Q6J("ngIf",null==(i=e.editUser.get("lastName"))||null==i.errors?null:i.errors.required)}}function Y(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1,"Your Email is required."),t.qZA())}function y(r,o){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,Y,2,0,"small",37),t.qZA()),2&r){const e=t.oxw(3);let i;t.xp6(1),t.Q6J("ngIf",null==(i=e.editUser.get("email"))||null==i.errors?null:i.errors.required)}}function S(r,o){1&r&&(t.TgZ(0,"div"),t.TgZ(1,"small",38),t._uU(2,"An email type should be inserted"),t.qZA(),t.qZA())}function J(r,o){1&r&&(t.TgZ(0,"div"),t.TgZ(1,"small",38),t._uU(2,"A phone number type should be inserted"),t.qZA(),t.qZA())}function Q(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1,"Your Cui is required."),t.qZA())}function M(r,o){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,Q,2,0,"small",37),t.qZA()),2&r){const e=t.oxw(3);let i;t.xp6(1),t.Q6J("ngIf",null==(i=e.editUser.get("cui"))||null==i.errors?null:i.errors.required)}}function O(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your Current password is required. "),t.qZA())}function E(r,o){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,O,2,0,"small",37),t.qZA()),2&r){const e=t.oxw(3);let i;t.xp6(1),t.Q6J("ngIf",null==(i=e.passwordForm.get("newPassword"))||null==i.errors?null:i.errors.required)}}function L(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password is required. "),t.qZA())}function R(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password is required to be at least 4 characters. "),t.qZA())}function z(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password cannot be longer than 50 characters. "),t.qZA())}function k(r,o){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,L,2,0,"small",37),t.YNc(2,R,2,0,"small",37),t.YNc(3,z,2,0,"small",37),t.qZA()),2&r){const e=t.oxw(3);let i,n,l;t.xp6(1),t.Q6J("ngIf",null==(i=e.passwordForm.get("newPassword"))||null==i.errors?null:i.errors.required),t.xp6(1),t.Q6J("ngIf",null==(n=e.passwordForm.get("newPassword"))||null==n.errors?null:n.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==(l=e.passwordForm.get("newPassword"))||null==l.errors?null:l.errors.maxlength)}}function G(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password confirmation is required. "),t.qZA())}function j(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password confirmation is required to be at least 4 characters. "),t.qZA())}function B(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password confirmation cannot be longer than 50 characters. "),t.qZA())}function $(r,o){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,G,2,0,"small",37),t.YNc(2,j,2,0,"small",37),t.YNc(3,B,2,0,"small",37),t.qZA()),2&r){const e=t.oxw(3);let i,n,l;t.xp6(1),t.Q6J("ngIf",null==(i=e.passwordForm.get("confirmPassword"))||null==i.errors?null:i.errors.required),t.xp6(1),t.Q6J("ngIf",null==(n=e.passwordForm.get("confirmPassword"))||null==n.errors?null:n.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==(l=e.passwordForm.get("confirmPassword"))||null==l.errors?null:l.errors.maxlength)}}function H(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"div",4),t.TgZ(2,"div",5),t.TgZ(3,"div",6),t.TgZ(4,"div",4),t.TgZ(5,"div",7),t.TgZ(6,"div",8),t.TgZ(7,"div",9),t._UZ(8,"img",10),t.TgZ(9,"div",9),t.TgZ(10,"h5",11),t._uU(11),t.qZA(),t._UZ(12,"input",12),t._UZ(13,"br"),t.TgZ(14,"small",13),t._uU(15,"Picture size must not exceed 5MB"),t.qZA(),t._UZ(16,"br"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",14),t.TgZ(18,"div",15),t.TgZ(19,"div",9),t.TgZ(20,"h4",16),t._uU(21,"Credentials"),t.qZA(),t.qZA(),t.TgZ(22,"form",17),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw(2).save()}),t.TgZ(23,"div",18),t.TgZ(24,"label",19),t._uU(25,"First Name"),t.qZA(),t._UZ(26,"input",20),t.YNc(27,b,2,1,"div",21),t.qZA(),t.TgZ(28,"div",18),t.TgZ(29,"label",19),t._uU(30,"Last Name"),t.qZA(),t._UZ(31,"input",22),t.YNc(32,I,2,1,"div",21),t.qZA(),t.TgZ(33,"div",18),t.TgZ(34,"label",19),t._uU(35,"Email address "),t.qZA(),t._UZ(36,"input",23),t.YNc(37,y,2,1,"div",21),t.YNc(38,S,3,0,"div",21),t.qZA(),t.TgZ(39,"div",18),t.TgZ(40,"label",19),t._uU(41,"Phone number "),t.qZA(),t._UZ(42,"input",24),t.YNc(43,J,3,0,"div",21),t.qZA(),t.TgZ(44,"div",18),t.TgZ(45,"label",19),t._uU(46,"CUI"),t.qZA(),t._UZ(47,"input",25),t.YNc(48,M,2,1,"div",21),t.qZA(),t.TgZ(49,"div",26),t.TgZ(50,"button",27),t._uU(51,"Save Credentials "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(52,"div",28),t.TgZ(53,"div",15),t.TgZ(54,"div"),t.TgZ(55,"div",29),t.TgZ(56,"div"),t.TgZ(57,"div",9),t.TgZ(58,"h4",16),t._uU(59,"Edit Password"),t.qZA(),t.qZA(),t.TgZ(60,"div",4),t.TgZ(61,"div",5),t.TgZ(62,"form",30),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw(2).finishReset()}),t.TgZ(63,"div",31),t.TgZ(64,"label",19),t._uU(65,"Current Password "),t.qZA(),t._UZ(66,"input",32),t.YNc(67,E,2,1,"div",21),t.qZA(),t.TgZ(68,"div",31),t.TgZ(69,"label",19),t._uU(70,"New Password"),t.qZA(),t._UZ(71,"input",33,34),t.YNc(73,k,4,3,"div",21),t.qZA(),t.TgZ(74,"div",31),t.TgZ(75,"label",19),t._uU(76,"New password confirmation"),t.qZA(),t._UZ(77,"input",35),t.YNc(78,$,4,3,"div",21),t.qZA(),t.TgZ(79,"div",26),t.TgZ(80,"button",36),t._uU(81," Reset password "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(2);let i,n;t.xp6(8),t.s9C("src",null!=(null==e.currentAccount?null:e.currentAccount.imageUrl)&&""!=(null==e.currentAccount?null:e.currentAccount.imageUrl)?null==e.currentAccount?null:e.currentAccount.imageUrl:"/assets/images/user.jpeg",t.LSH),t.xp6(3),t.AsE("",null==e.currentAccount?null:e.currentAccount.firstName," ",null==e.currentAccount?null:e.currentAccount.lastName,""),t.xp6(11),t.Q6J("formGroup",e.editUser),t.xp6(5),t.Q6J("ngIf",e.editUser.get("firstName").invalid&&(e.editUser.get("firstName").dirty||e.editUser.get("firstName").touched)),t.xp6(5),t.Q6J("ngIf",e.editUser.get("lastName").invalid&&(e.editUser.get("lastName").dirty||e.editUser.get("lastName").touched)),t.xp6(5),t.Q6J("ngIf",e.editUser.get("email").invalid&&(e.editUser.get("email").dirty||e.editUser.get("email").touched)),t.xp6(1),t.Q6J("ngIf",null==(i=e.editUser.get("email"))||null==i.errors?null:i.errors.email),t.xp6(5),t.Q6J("ngIf",null==(n=e.editUser.get("phoneNumber"))||null==n.errors?null:n.errors.pattern),t.xp6(5),t.Q6J("ngIf",e.editUser.get("cui").invalid&&(e.editUser.get("cui").dirty||e.editUser.get("cui").touched)),t.xp6(2),t.Q6J("disabled",null==e.editUser||null==e.editUser.errors?null:e.editUser.errors.required),t.xp6(12),t.Q6J("formGroup",e.passwordForm),t.xp6(5),t.Q6J("ngIf",e.passwordForm.get("currentPassword").invalid&&(e.passwordForm.get("currentPassword").dirty||e.passwordForm.get("currentPassword").touched)),t.xp6(6),t.Q6J("ngIf",e.passwordForm.get("newPassword").invalid&&(e.passwordForm.get("newPassword").dirty||e.passwordForm.get("newPassword").touched)),t.xp6(5),t.Q6J("ngIf",e.passwordForm.get("confirmPassword").invalid&&(e.passwordForm.get("confirmPassword").dirty||e.passwordForm.get("confirmPassword").touched)),t.xp6(2),t.Q6J("disabled",e.passwordForm.invalid)}}function D(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your Current password is required. "),t.qZA())}function K(r,o){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,D,2,0,"small",37),t.qZA()),2&r){const e=t.oxw(4);let i;t.xp6(1),t.Q6J("ngIf",null==(i=e.passwordForm.get("newPassword"))||null==i.errors?null:i.errors.required)}}function X(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password is required. "),t.qZA())}function W(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password is required to be at least 4 characters. "),t.qZA())}function V(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password cannot be longer than 50 characters. "),t.qZA())}function tt(r,o){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,X,2,0,"small",37),t.YNc(2,W,2,0,"small",37),t.YNc(3,V,2,0,"small",37),t.qZA()),2&r){const e=t.oxw(4);let i,n,l;t.xp6(1),t.Q6J("ngIf",null==(i=e.passwordForm.get("newPassword"))||null==i.errors?null:i.errors.required),t.xp6(1),t.Q6J("ngIf",null==(n=e.passwordForm.get("newPassword"))||null==n.errors?null:n.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==(l=e.passwordForm.get("newPassword"))||null==l.errors?null:l.errors.maxlength)}}function et(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password confirmation is required. "),t.qZA())}function rt(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password confirmation is required to be at least 4 characters. "),t.qZA())}function it(r,o){1&r&&(t.TgZ(0,"small",38),t._uU(1," Your password confirmation cannot be longer than 50 characters. "),t.qZA())}function ot(r,o){if(1&r&&(t.TgZ(0,"div"),t.YNc(1,et,2,0,"small",37),t.YNc(2,rt,2,0,"small",37),t.YNc(3,it,2,0,"small",37),t.qZA()),2&r){const e=t.oxw(4);let i,n,l;t.xp6(1),t.Q6J("ngIf",null==(i=e.passwordForm.get("confirmPassword"))||null==i.errors?null:i.errors.required),t.xp6(1),t.Q6J("ngIf",null==(n=e.passwordForm.get("confirmPassword"))||null==n.errors?null:n.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==(l=e.passwordForm.get("confirmPassword"))||null==l.errors?null:l.errors.maxlength)}}function nt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"form",30),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw(3).finishReset()}),t.TgZ(1,"div",31),t.TgZ(2,"label",19),t._uU(3,"Current Password "),t.qZA(),t._UZ(4,"input",32),t.YNc(5,K,2,1,"div",21),t.qZA(),t.TgZ(6,"div",31),t.TgZ(7,"label",19),t._uU(8,"New Password"),t.qZA(),t._UZ(9,"input",33,34),t.YNc(11,tt,4,3,"div",21),t.qZA(),t.TgZ(12,"div",31),t.TgZ(13,"label",19),t._uU(14,"New password confirmation"),t.qZA(),t._UZ(15,"input",35),t.YNc(16,ot,4,3,"div",21),t.qZA(),t.TgZ(17,"div",26),t.TgZ(18,"button",36),t._uU(19," Reset password "),t.qZA(),t.qZA(),t.qZA()}if(2&r){const e=t.oxw(3);t.Q6J("formGroup",e.passwordForm),t.xp6(5),t.Q6J("ngIf",e.passwordForm.get("currentPassword").invalid&&(e.passwordForm.get("currentPassword").dirty||e.passwordForm.get("currentPassword").touched)),t.xp6(6),t.Q6J("ngIf",e.passwordForm.get("newPassword").invalid&&(e.passwordForm.get("newPassword").dirty||e.passwordForm.get("newPassword").touched)),t.xp6(5),t.Q6J("ngIf",e.passwordForm.get("confirmPassword").invalid&&(e.passwordForm.get("confirmPassword").dirty||e.passwordForm.get("confirmPassword").touched)),t.xp6(2),t.Q6J("disabled",e.passwordForm.invalid)}}function st(r,o){if(1&r&&(t.TgZ(0,"div",3),t.TgZ(1,"div",4),t.TgZ(2,"div",5),t.TgZ(3,"div",6),t.TgZ(4,"div",4),t.TgZ(5,"div",39),t.TgZ(6,"div",40),t.TgZ(7,"div",9),t._UZ(8,"img",10),t.TgZ(9,"h5",11),t._uU(10),t.qZA(),t.TgZ(11,"h6",41),t._uU(12,"Devista Consulting"),t.qZA(),t.qZA(),t.TgZ(13,"div",42),t.TgZ(14,"small",43),t._uU(15,"First Name"),t.qZA(),t.TgZ(16,"h6",44),t._uU(17),t.qZA(),t.TgZ(18,"small",43),t._uU(19,"Last Name"),t.qZA(),t.TgZ(20,"h6",44),t._uU(21),t.qZA(),t.TgZ(22,"small",16),t._uU(23,"Email address "),t.qZA(),t.TgZ(24,"h6",44),t._uU(25),t.qZA(),t.TgZ(26,"small",16),t._uU(27,"Upload Picture"),t.qZA(),t._UZ(28,"br"),t._UZ(29,"input",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",14),t.TgZ(31,"div",45),t.TgZ(32,"div"),t.TgZ(33,"div",29),t.TgZ(34,"div"),t.TgZ(35,"div",9),t.TgZ(36,"h4",16),t._uU(37,"Edit Password"),t.qZA(),t.qZA(),t.TgZ(38,"div",4),t.TgZ(39,"div",5),t.YNc(40,nt,20,5,"form",46),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(41,"br"),t.TgZ(42,"div",4),t.TgZ(43,"div",47),t.TgZ(44,"label",48),t._uU(45,"Discount Code"),t.qZA(),t.TgZ(46,"p",49),t._uU(47),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r){const e=t.oxw(2);t.xp6(8),t.s9C("src",null!=(null==e.currentAccount?null:e.currentAccount.imageUrl)&&""!=(null==e.currentAccount?null:e.currentAccount.imageUrl)?null==e.currentAccount?null:e.currentAccount.imageUrl:"/assets/images/user.jpeg",t.LSH),t.xp6(2),t.AsE("",null==e.currentAccount?null:e.currentAccount.firstName," ",null==e.currentAccount?null:e.currentAccount.lastName,""),t.xp6(7),t.Oqu(null==e.currentAccount?null:e.currentAccount.firstName),t.xp6(4),t.Oqu(null==e.currentAccount?null:e.currentAccount.lastName),t.xp6(4),t.Oqu(null==e.currentAccount?null:e.currentAccount.email),t.xp6(15),t.Q6J("ngIf",!e.success),t.xp6(7),t.Oqu(e.discountCode)}}function lt(r,o){if(1&r&&(t.TgZ(0,"section",1),t.YNc(1,H,82,16,"div",2),t.YNc(2,st,48,8,"div",2),t.qZA()),2&r){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","ROLE_LOCATION_USER"==e),t.xp6(1),t.Q6J("ngIf","ROLE_USER"==e)}}let at=(()=>{class r{constructor(e,i,n,l,d,c,m,pt,ft){this.accountService=e,this.helperService=i,this.fb=n,this.userService=l,this.router=d,this.route=c,this.passwordResetFinishService=m,this.toasterService=pt,this.modalService=ft,this.active=1,this.isSaving=!1,this.unique=!1,this.initialized=!1,this.doNotMatch=!1,this.error=!1,this.errorCredentials=!1,this.success=!1,this.successCredentials=!1,this.successPicture=!1,this.errorPicture=!1,this.key="",this.discountCode="",this.passwordForm=this.fb.group({newPassword:["",[s.kI.required,s.kI.minLength(4),s.kI.maxLength(50)]],confirmPassword:["",[s.kI.required,s.kI.minLength(4),s.kI.maxLength(50)]],currentPassword:["",[s.kI.required,s.kI.minLength(4),s.kI.maxLength(50)]]})}ngOnInit(){this.initialized=!0,this.editUser=new s.cw({id:new s.NI,login:new s.NI,firstName:new s.NI("",[s.kI.required]),cui:new s.NI(""),lastName:new s.NI("",[s.kI.required]),email:new s.NI("",[s.kI.required,s.kI.email]),phoneNumber:new s.NI(null,[s.kI.pattern("[0-9]{10}")]),activated:new s.NI,langKey:new s.NI,authorities:new s.NI}),this.getCurrentUser()}updateForm(e){var i;null===(i=this.editUser)||void 0===i||i.patchValue({login:null==e?void 0:e.login,firstName:null==e?void 0:e.firstName,cui:null==e?void 0:e.cui,lastName:null==e?void 0:e.lastName,email:null==e?void 0:e.email,phoneNumber:null==e?void 0:e.phoneNumber,imageUrl:null==e?void 0:e.imageUrl,langKey:null==e?void 0:e.langKey,activated:null==e?void 0:e.activated,authorities:null==e?void 0:e.authorities})}updateUser(e){var i,n,l,d,c;e.firstName=null===(i=this.editUser.get(["firstName"]))||void 0===i?void 0:i.value,e.lastName=null===(n=this.editUser.get(["lastName"]))||void 0===n?void 0:n.value,e.cui=null===(l=this.editUser.get(["cui"]))||void 0===l?void 0:l.value,e.email=null===(d=this.editUser.get(["email"]))||void 0===d?void 0:d.value,e.phoneNumber=null===(c=this.editUser.get(["phoneNumber"]))||void 0===c?void 0:c.value}save(){this.isSaving=!0,this.updateUser(this.currentAccount),this.editUser.valid?this.subscribeToSaveResponse(this.accountService.save(this.currentAccount)):this.toasterService.error("Fields must be filled in!")}subscribeToSaveResponse(e){e.pipe((0,h.x)(()=>this.onSaveFinalize())).subscribe({next:()=>this.onSaveSuccess(),error:()=>this.onSaveError()})}onSaveSuccess(){this.isSaving=!1,this.successCredentials=!0,this.toasterService.success("Data has been changed successfully.")}onSaveError(){this.unique=!0,this.isSaving=!1,this.errorCredentials=!0,this.toasterService.error("The email has already been taken!")}onSaveFinalize(){this.isSaving=!1}finishReset(){this.doNotMatch=!1,this.error=!1;const e=this.passwordForm.get(["newPassword"]).value,i=this.passwordForm.get(["confirmPassword"]).value,n=this.passwordForm.get(["currentPassword"]).value;e!==i?(this.doNotMatch=!0,this.toasterService.error("The password and its confirmation do not match!")):this.passwordResetFinishService.RestPassword(n,e).subscribe({next:()=>(this.success=!0,this.toasterService.success("Your password has been reset."),this.passwordForm.reset()),error:()=>(this.error=!0,this.toasterService.error("Invalid current password!"))})}getCurrentUser(){this.accountService.identity().subscribe(e=>{this.currentAccount=e,this.updateForm(this.currentAccount)})}getContentLength(e){return[...e.entries()].reduce((l,[d,c])=>"string"==typeof c?l+c.length:"object"==typeof c?l+c.size:l,0)}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(f.B),t.Y36(w.W),t.Y36(s.qu),t.Y36(q),t.Y36(u.F0),t.Y36(u.gz),t.Y36(P.h),t.Y36(U._W),t.Y36(Z.FF))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile"]],viewQuery:function(e,i){if(1&e&&t.Gf(C,5),2&e){let n;t.iGM(n=t.CRH())&&(i.newPassword=n.first)}},decls:1,vars:1,consts:[["class","section-padding bg-light-white listing-details ",4,"ngFor","ngForOf"],[1,"section-padding","bg-light-white","listing-details"],["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[1,"listing-details-inner","bx-wrapper","bg-custom-white","padding-20"],[1,"col-lg-3",2,"display","flex"],[1,"profile-pic","quick-quote","bx-wrapper","padding-20","mb-xl-30",2,"flex","1"],[1,"text-center"],["width","150",1,"rounded-circle",3,"src"],[1,"card-title","mt-2","text-light-dark"],["type","file"],[1,"text-custom-blue","fs-8"],[1,"col-lg-5",2,"display","flex"],[1,"data","quick-quote","bx-wrapper","padding-20","mb-xl-30",2,"flex","1"],[1,"text-custom-blue"],[3,"formGroup","ngSubmit"],[1,"col-sm-12"],[1,"label","fs-14","text-custom-blue","fw-500"],["type","text","formControlName","firstName","id","firstName",1,"form-control","form-control-custom"],[4,"ngIf"],["type","text","formControlName","lastName","id","lastName",1,"form-control","form-control-custom"],["type","email","formControlName","email","id","email",1,"form-control","form-control-custom"],["type","tel","formControlName","phoneNumber","id","phoneNumber",1,"form-control","form-control-custom"],["type","cui","formControlName","cui","id","cui",1,"form-control","form-control-custom"],[1,"padding-20"],["type","submit",1,"edit-button","col-sm-10","btn-first","btn-submit","full-width","btn-height","float-right",3,"disabled"],[1,"col-lg-4",2,"display","flex"],[1,"auth-wrapper","no-block","justify-content-center","align-items-center"],["name","form","role","form",1,"form-horizontal","mt-3",3,"formGroup","ngSubmit"],[1,"col-12","mb-2"],["type","Password","id","currentPassword","name","currentPassword","formControlName","currentPassword","data-cy","currentPassword",1,"form-control","form-control-custom"],["type","password","id","newPassword","name","newPassword","formControlName","newPassword","data-cy","resetPassword",1,"form-control","form-control-custom"],["newPassword",""],["type","password","id","confirmPassword","name","confirmPassword","formControlName","confirmPassword","data-cy","confirmResetPassword",1,"form-control","form-control-custom"],["type","submit",1,"reset-button","col-sm-10","btn-first","btn-submit","full-width","btn-height","float-right",3,"disabled"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"],[1,"col-lg-7"],[1,"quick-quote","bx-wrapper","padding-20","mb-xl-30"],[1,"card-subtitle","text-light-dark"],[1,"credentials"],[1,"p-t-30","db","text-custom-blue"],[1,"text-light-dark"],[1,"ata","quick-quote","bx-wrapper","padding-20","mb-xl-30",2,"flex","1"],["class","form-horizontal mt-3","name","form","role","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"col-12","mb-2","text-center"],[1,"label","fs-14","text-center","text-custom-blue","fw-500"],[2,"font-size","40px","font-weight","bold"]],template:function(e,i){1&e&&t.YNc(0,lt,3,2,"section",0),2&e&&t.Q6J("ngForOf",null==i.currentAccount?null:i.currentAccount.authorities)},directives:[_.sg,_.O5,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u],styles:[".profile[_ngcontent-%COMP%]{padding-top:25px;padding-left:45px}.profile-pic[_ngcontent-%COMP%]{padding-top:90px}.rounded-circle[_ngcontent-%COMP%]{height:200px;width:200px;padding-bottom:10px}.data[_ngcontent-%COMP%]{padding-top:40px}.label[_ngcontent-%COMP%]{padding-top:20px}.center[_ngcontent-%COMP%]{margin:auto;width:50%;padding:10px}.newpass-label[_ngcontent-%COMP%]{width:280px}.edit-button[_ngcontent-%COMP%]{width:180px}.edit-pass[_ngcontent-%COMP%]{padding-left:15px}.credentials-label[_ngcontent-%COMP%]{padding-left:15px}.reset-button[_ngcontent-%COMP%]{width:150px}.credentials[_ngcontent-%COMP%]{padding-top:20px;padding-left:20px}.reset-pass[_ngcontent-%COMP%]{padding-right:100px}input[type=file][_ngcontent-%COMP%]{width:90px;color:transparent}input[type=file][_ngcontent-%COMP%]::file-selector-button{border-color:#262b5a;color:#262b5a;background:#fff;border-radius:20px}"]}),r})();var ct=a(8002);const dt=[{path:"",component:at,canActivate:[(()=>{class r{constructor(e,i){this.router=e,this.accountService=i}canActivate(e,i){return this.accountService.identity().pipe((0,ct.U)(n=>{if(n){const l=e.data.authorities;return!(l&&0!==l.length&&!this.accountService.hasAnyAuthority(l)&&((0,t.X6Q)()&&console.error("User has not any of required authorities: ",l),this.router.navigate(["accessdenied"]),1))}return this.router.navigate(["auth/sign-in"]),!1}))}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(u.F0),t.LFG(f.B))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()]}];let ut=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[u.Bz.forChild(dt)],u.Bz]}),r})();var mt=a(8321);let _t=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[_.ez,ut,mt.m,Z.Oz,s.UX]]}),r})()}}]);